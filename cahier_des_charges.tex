\documentclass[12pt, openany]{report}
\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[a4paper,left=2cm,right=2cm,top=2cm,bottom=2cm]{geometry}
\usepackage[frenchb]{babel}
\usepackage{libertine}
\usepackage{titlesec}
\usepackage{lipsum}
\usepackage{scrextend}
\usepackage[pdftex]{graphicx}
\usepackage{tabularx}
\usepackage{float, caption}
\usepackage{colortbl}
\usepackage{array}

%Réglage de l'espacement pour les chapitres
\titleformat{\chapter}[display]   
	{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{5pt}{\Huge}  
\titlespacing*{\chapter}{0pt}{-30pt}{5pt}


\setlength{\parindent}{0cm}
\setlength{\parskip}{1ex plus 0.5ex minus 0.2ex}
\newcommand{\hsp}{\hspace{20pt}}
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}

\newenvironment{indentpar}[1]%
  {\begin{list}{}%
          {\setlength{\leftmargin}{#1}}%
          \item[]%
  }
  {\end{list}}

\begin{document}


\begin{titlepage}
\includegraphics[width=5cm]{upmc.png}
\begin{sffamily}
\begin{center}
% Mise en place de l'image
\includegraphics[scale=0.4]{img1.jpg}~\\[1cm]
\textsc{\Large Projet : DRONE AUTOPILOT}\\[1cm]

% Titre
\HRule \\[0.4cm]
	 { \huge \bfseries Cahier des charges\\[0.4cm] }
 \HRule \\[2cm]
 
 \textsc{\LARGE Université Pierre et Marie Curie}\\[3cm]

 % Auteurs et tuteur
\begin{minipage}{0.4\textwidth}
\begin{flushleft} \large
Alex \textsc{Archambault}\\
Yoann \textsc{Ghigoff}\\
Nicolas \textsc{Salleron}\\	%Sens Alphabétique
Kévin \textsc{Vu-Saintonge}\\
\end{flushleft}
\end{minipage}
\begin{minipage}{0.4\textwidth}
\begin{flushright} \large
\emph{Tuteur :} M. Fabrice \textsc{Kordon}\\
-\today
\end{flushright}
\end{minipage}

\vfill

\end{center}
\end{sffamily}
\end{titlepage}


%Mise en place du sommaire
\tableofcontents


%%%%%% INTRODUCTION %%%%%%
%Précise l'objectif du document et en résume le contenu

\chapter{Introduction}
\paragraph{}
Utilisés depuis les années 1990 dans le cadre militaire, les drones font aujourd'hui partie de notre vie de tous les jours. Des sociétés comme Parrot les ont popularisés au sein du grand public. Les smartphones étant de plus en plus répandus et performants, les applications peuvent exploiter les multiples capacités de leurs capteurs embarqués. Les progrès de la miniaturisation permettent même l'utilisation de ces technologies dans de plus petits objets connectés telles les montres.\\
Les drones sont très souvent utilisés, notamment dans les domaines artistiques comme la danse. Des émissions en témoignent : "La France a un incroyable talent" (25/10/2016) et "Britain's got talent", outre-Manche.\\À Las Vegas, durant le CES 2016, la société Parrot a réalisé le "Drone dance" dans lequel les drones Parrot "dansent" de manière autonome sur une chorégraphie pré-enregistrée. A Londres la même année, la société BeTomorrow a présenté le "Flying Oreo show". 
Nous observons un réel intérêt du grand public pour les drones et la démonstration de leurs capacités à travers le spectacle et la danse.

\section{Contexte}
\paragraph{}
Notre projet d'"\textit{Ingénierie Dirigée par les modèles}" est inscrit dans le domaine de la danse. Un danseur doit être capable de préparer la chorégraphie puis de l'exécuter sur le terrain de son choix. L'utilisateur utilisera pour ce faire un langage de programmation spécifique que nous allons réaliser afin de préparer ses danses simplement. 

\section{Objectifs}
\paragraph{} L'objectif est de permettre à  un danseur de réaliser une chorégraphie. Pour ce faire notre équipe produira un langage de programmation simple et compréhensible pour l'utilisateur. \\Ce dernier devra par la suite l'utiliser de manière autonome afin de préparer en amont la chorégraphie de son drone. Une fois la chorégraphie validée et compiler par notre logiciel frontal, l'utilisateur doit pouvoir lancer l'application générée par notre frontal. Cette application enverra différents ordres au drone et réalisera la chorégraphie.

\chapter{Le langage de pilotage du drone}

Notre solution sera un langage avec une syntaxe textuelle. Ce langage sera généré à partir d'un modèle qui respectera un méta-modèle. Une extension de fichier spécifique au langage sera utilisée. 

\section{Description de l'éditeur du langage}

Afin de faciliter l'écriture des scénarios de pilotage, un éditeur textuel sera fourni au client.\\ Cet éditeur aura les fonctionnalités suivantes : 
\begin{itemize}
	\item l'auto-completion du langage (décrit dans la partie "commandes à implémenter")
	\item la détection de fautes syntaxiques.
	\item la détection des erreurs de cohérence dans les scénarios. Ex: Une erreur de cohérence simple peut être le fait de commander au drone d'avancer avant que celui-ci n'ai décollé. 
	\item TODO des "bullets" avec d'autres exemples
\end{itemize}

\section{Écriture de la chorégraphie par l'utilisateur}
L'utilisateur écrit sa chorégraphie par une suite d'actions séparées par un retour à la ligne. La liste des actions disponibles et leurs paramètres sont listés dans la partie "commandes à implémenter". Une chorégraphie commencera forcément par un décollage et finira par un atterrissage.
\section{Conditions de fonctionnement}

Pour que l'application fonctionne un certains nombre de pré-conditions d'utilisation:
\begin{itemize}
	  \item Le drone utilisé est un drone à hélices, le langage ne supportera pas les drones type avion.
      \item Le drone doit être allumé par l'utilisateur.
      \item Le drone doit être connecté via Wi-Fi à l'ordinateur exécutant le programme réalisé par l'utilisateur.
      \item Le drone doit être utilisé dans un endroit sans un vent de trop grande envergure.
      \item Le programme utilisateur doit être réalisé sous le logiciel Eclipse Oxygen version 4.7.0.
      \item L'ordinateur exécutant le programme réalisé par l'utilisateur doit avoir installé Java version 1.8.
\end{itemize}
           
\vspace{10px}           
Des fichiers et documents aideront à son déploiement et son utilisation. 


\chapter{Fonctionnement du drone}
Nous considérons par drone les objets connectés volants, type aéronef à voilure tournante comportant quatre rotors pour sa sustentation.

\section{Décollage}
Le drone est capable de décoller en faisant tourner ses rotors. Le décollage se fait en un temps fini, durant ce laps de temps le drone n'interprète pas les commandes qui lui sont envoyés (il les effectuera quand il sera dans un état stable). \\
Il correspond à l'instruction suivante dans le projet :
\begin{itemize}
     \item \textbf{decoller}
\end{itemize}
        
\section{Altitude - Gaz}
Le drone est capable de se déplacer verticalement (axe z), c'est à dire qu'il peut élever ou réduire son altitude avec plus ou moins de vitesse en fonction de la vitesse de rotation des rotors (donc des moteurs). \\
Il correspond aux instructions suivantes dans le projet :
\begin{itemize}
     \item \textbf{monter}
     \item \textbf{descendre}
\end{itemize}
        
\section{Mouvements horizontaux - Roll}
Le drone est capable de se déplacer horizontalement (axe x), pour se faire le drone va s'incliner vers la gauche ou la droite d'un certain angle. \\
Il correspond aux instructions suivantes dans le projet :
\begin{itemize}
     \item \textbf{gauche}
     \item \textbf{droite}
\end{itemize}
    
\section{Mouvements horizontaux - Pitch}
Le drone est capable de se déplacer en profondeur (axe y), pour se faire le drone va s'incliner en avant ou en arrière d'un certain angle. \\
Il correspond aux instructions suivantes dans le projet :
\begin{itemize}
    \item \textbf{avancer}
    \item \textbf{reculer}
\end{itemize}
        
\section{Pause}
Le drone est capable de faire du surplace (stabilisation). \\
Il correspond à l'instruction suivante dans le projet :
\begin{itemize}
      \item \textbf{pause}
\end{itemize}
        
\section{Rotation}
Le drone est capable d'effectuer une rotation sur le plan horizontal sans modifier sa hauteur.\\
Il correspond aux instructions suivantes dans le projet :
  \begin{itemize}
      \item \textbf{rotationGauche}
      \item \textbf{rotationDroite}
\end{itemize} 
        
 
\section{Atterrissage}
Le drone est capable d'atterrir en ralentissant ses rotors. L'atterrissage se fait en un temps fini, durant l'atterrissage le drone n'interprète pas les commandes qui lui sont envoyés. Une fois au sol, il ne peut plus exécuter d'instruction sauf celle de décollage. \\
Il correspond à l'instruction suivante dans le projet :
\begin{itemize}
      \item \textbf{atterrir}
\end{itemize}
 
\section{Camera}
Nous avons fait le choix de ne pas nous occuper de la caméra, car certains drones n'en possèdent pas. Il n'est pas standard qu'un drone possède une caméra.

\chapter{Les commandes du DSL}

\section{Prologue}
\subsection{Pourcentage vitesse max?}
\subsection{vitesse\_deplacement max}
\subsection{vitesse\_rotation max}
\subsection{Hauteux max}
\subsection{Eloignement max}

\section{Les fonctions basiques}
\paragraph{}
Dans le but de rendre accessible le pilotage de drone aux artistes chorégraphes du futur, nous implémenterons un langage dédié permettant de décrire un scénario de pilotage prédéfini sous la forme d'un script.\\
Dans cette partie nous présentons les commandes de base de ce langage ainsi que les actions réalisées par un drone pour chacune d'elles. Nous avons décidé de séparer les mouvements horizontaux et verticaux en 6 fonctions distinctes (Monter, Descendre, Avancer, Reculer, Gauche, Droite) afin de rendre l'utilisation du langage plus implicite pour l'utilisateur. L'unité du paramètre durée est en Seconde.\\La vitesse verticale étant dépendante du drone, nous avons fait le choix d'exprimer ce paramètre sous la forme d'une unité en pourcentage de la vitesse maximale du drone. L'inclinaison étant également dépendant du drone cible, nous avons fait le choix de l'exprimer également en pourcentage d'inclinaison par rapport à l'inclinaison maximale disponible. 

\subsection{Décoller}
\quad Syntaxe: \textbf{decoller()}\bigbreak
Cette commande permettra à un drone de décoller. Elle devra obligatoirement être la première commande exécutée dans un script du langage et ne pourra pas être à nouveau exécutée si le drone n'a pas atterri. Il est possible de décoller après chaque atterrissage. 

\subsection{Atterrir}
\quad Syntaxe: \textbf{atterrir()}\bigbreak
Cette commande permettra à un drone d'atterrir. Elle devra obligatoirement être la dernière commande exécutée dans un script du langage et ne pourra pas être à nouveau exécutée si le drone n'a pas décoller. Il est possible d'atterrir après chaque décollage.

\subsection{Monter}
\quad Syntaxe: \textbf{monter(durée: Seconde, vitesse\_verticale: Pourcentage)}\bigbreak
Cette commande permettra à un drone de monter en altitude. 
Elle ne pourra être exécutée que si un drone a décollé et n'a pas atterri.
Le paramètre \textbf{durée} donnera le temps en secondes durant lequel le drone s'élève. 
Le paramètre \textbf{vitesse\_vertical} est un entier positif compris entre 1 et 100. Il indique la vitesse d'élèvation du drone.

\subsection{Descendre}
\quad Syntaxe: \textbf{descendre(durée: Seconde, vitesse\_verticale: Pourcentage)}\bigbreak
Cette commande permettra à un drone de descendre en altitude. 
Elle ne pourra être exécutée que si un drone a décollé et n'a pas atterri.
Le paramètre \textbf{durée} donnera le temps en secondes durant lequel le drone décline.
Le paramètre \textbf{vitesse\_vertical} est un entier positif compris entre 1 et 100. Il indique la vitesse d'élèvation du drone.

\subsection{Avancer}
\quad Syntaxe: \textbf{avancer(durée: Seconde, vitesse\_deplacement: Pourcentage)}\bigbreak
Cette commande permettra à un drone de se déplacer sur un axe horizontal dans la direction vers laquelle sa face avant est tournée. 
Elle ne pourra être exécutée que si un drone a décollé et n'a pas atterri.
Le paramètre \textbf{durée} donnera le temps en secondes durant lequel le drone doit se déplacer.
Le paramètre \textbf{vitesse\_deplacement} est un entier positif compris entre 1 et 100. Il indique la vitesse de déplacement du drone.

\subsection{Reculer}
\quad Syntaxe: \textbf{reculer(durée: Seconde, vitesse\_deplacement: Pourcentage))}\bigbreak
Cette commande permettra à un drone de se déplacer sur un axe horizontal dans la direction opposée à celle vers laquelle est tournée sa face avant. 
Elle ne pourra être exécutée que si un drone a décollé et n'a pas atterri.
Le paramètre \textbf{durée} donnera le temps en secondes durant lequel le drone doit se déplacer.
Le paramètre \textbf{vitesse\_deplacement} est un entier positif compris entre 1 et 100. Il indique la vitesse de déplacement du drone.

\subsection{Gauche}
\quad Syntaxe: \textbf{gauche(durée: Seconde, vitesse\_deplacement: Pourcentage))}\bigbreak
Cette commande permettra à un drone de se déplacer sur un axe horizontal dans la direction à gauche de celle vers laquelle est tournée sa face avant. 
Elle ne pourra être exécutée que si un drone a décollé et n'a pas atterri.
Le paramètre \textbf{durée} donnera le temps en secondes durant lequel le drone doit se déplacer.
Le paramètre \textbf{vitesse\_deplacement} est un entier positif compris entre 1 et 100. Il indique la vitesse de déplacement du drone.

\subsection{Droite}
\quad Syntaxe: \textbf{droite(durée: Seconde, vitesse\_deplacement: Pourcentage))}\bigbreak
Cette commande permettra à un drone de se déplacer sur un axe horizontal dans la direction à droite de celle vers laquelle est tournée sa face avant. 
Elle ne pourra être exécutée que si un drone a décollé et n'a pas atterri.
Le paramètre \textbf{durée} donnera le temps en secondes durant lequel le drone doit se déplacer.
Le paramètre \textbf{vitesse\_deplacement} est un entier positif compris entre 1 et 100. Il indique la vitesse de déplacement du drone.

\subsection{Pause}
\quad Syntaxe: \textbf{pause(durée: Seconde)}\bigbreak
Cette commande permettra à un drone de s'arrêter en position stationnaire pendant une certaine durée. 
Elle ne pourra être exécutée que si un drone a décollé et n'a pas atterri.
Le paramètre \textbf{durée} donnera le temps en secondes durant lequel le drone doit s'arrêter.

\subsection{RotationGauche}
\quad Syntaxe: \textbf{rotation\_gauche(durée: Seconde, vitesse\_rotation: Pourcentage)}\bigbreak
TODO\\
TODO	KORDON veut l'angle?\\
TODO\\
Cette commande permettra à un drone de tourner sur lui même dans le sens inverse des aiguilles d'une montre. 
Elle ne pourra être exécutée que si un drone a décollé et n'a pas atterri.
Le paramètre \textbf{durée} donnera le temps en secondes durant lequel le drone doit tourner
Le paramètre \textbf{vitesse\_rotation} est un entier positif compris entre 1 et 100. Il indique la vitesse de rotation du drone.

\subsection{RotationDroite}
\quad Syntaxe: \textbf{rotation\_droite(durée: Seconde, vitesse\_rotation: Pourcentage)}\bigbreak
TODO\\
TODO	KORDON veut l'angle?\\
TODO\\
Cette commande permettra à un drone de tourner sur lui même dans le sens des aiguilles d'une montre. 
Elle ne pourra être exécutée que si un drone a décollé et n'a pas atterri.
Le paramètre \textbf{durée} donnera le temps en secondes durant lequel le drone doit tourner
Le paramètre \textbf{vitesse\_rotation} est un entier positif compris entre 1 et 100. Il indique la vitesse de rotation du drone.

\subsection{Exemple d'une exécution}
    Voici un exemple type de programme que l'utilisateur peut faire: \\
    \begin{figure}[h!]
            \fbox {
                \begin{minipage}{\textwidth}
                    \begin{center}
                        decoller() \\
                        monter(2, 10) \\
                        avancer(2, 20) \\
                        droite(2, 15) \\
                        atterrir() \\
                    \end{center}
                \end{minipage}}
            \caption{Exemple de programme utilisateur}
            \label{Exemple de programme utilisateur}
    \end{figure}
    \\ Le programme utilisateur sera ensuite inspecté, si ce dernier est syntaxiquement correct, l'utilisateur sera capable d'exécuter son programme. Pour se faire, son programme sera copié et cette copie sera transformée en programme JAVA, ce dernier sera ensuite exécuté ce qui demandera au drone d'effectuer les instructions qui ont été renseignées par l'utilisateur dans son programme.



\section{Fonction de composition}
Notre langage impose des contraintes sur les fonctions. D'abord, la première fonction du fichier à exécuter s'appelle "main", elle est la première fonction exécutée par le drone. De plus, les fonctions ne peuvent pas être récursive, c'est à dire, qu'une fonction ne peut s'appeller elle même. 

\subsection{Création de composition sequentielle}
En plus des commandes de base, notre langage permet à l'utilisateur de définir ses propres compositions qui sont des suites d'instructions à exécuter par le drone. \\

Exemple :
 \begin{tabbing}
        func \= \_nom\_de\_la\_fonction\_() \{ \\
        \> monter(2, 10) \\
        \>    avancer(2, 20) \\
        \>    droite(2, 15) \\
\} \\
\end{tabbing}

\subsection{Bilbiothèque de fonctions}
Une fois que l'utilisateur a défini ses fonctions de composition et les a sauvegardées dans un fichier, celui-ci aura la possibilité de les référencer depuis un autre fichier au moyen d'un système d'import. Ainsi l'uilisateur pourra appeler dans un fichier une fonction définie dans un autre fichier.\\
Ce système permettra à l'utilisateur de créer ses propres bilbiothèques de fonctions.\\
Afin de pouvoir appeler les fonctions définies dans un fichier, ce dernier devra se trouver dans le même répertoire que celui contenant le fichier appelant les fonctions. 

%\subsection{Figures prédéfinies}
%TODO - "Ça c'est un peu casse gueule" -> import monfic.funcDrone. Le client doit charger la bibliothèque.\\
%
%Nous allons de plus implémenter une bibliothèque de figures prédéfinies pour l'utilisateur final comme le : carré horizontal, carré vertical. 
%
%\subsubsection{carré horizontal}
%\quad Syntaxe: \textbf{carre\_horizontal(durée: Seconde, vitesse\_deplacement: Pourcentage))}\bigbreak
%Cette commande permettra à un drone de réaliser un carré horizontal en fonction de la vitesse de deplacement et d'une durée pour réaliser le carré horizontal. \\
%Elle ne pourra être exécutée que si un drone a décollé et n'a pas atterri.\\
%Le paramètre \textbf{durée} donnera le temps en secondes durant lequel le drone doit effectuer son carré horizontal.\\
%Le paramètre \textbf{vitesse\_rotation} est un entier positif compris entre 1 et 100. Il indique la vitesse de deplacement du drone.\\
%
%\subsubsection{carré vertical}
%\quad Syntaxe: \textbf{carre\_vertical(durée: Seconde, vitesse\_deplacement: Pourcentage))}\bigbreak
%Cette commande permettra à un drone de réaliser un carré vertical en fonction de la vitesse de deplacement et d'une durée pour réaliser le carré vertical. \\
%Elle ne pourra être exécutée que si un drone a décollé et n'a pas atterri.\\
%Le paramètre \textbf{durée} donnera le temps en secondes durant lequel le drone doit effectuer son carré vertical.\\
%Le paramètre \textbf{vitesse\_rotation} est un entier positif compris entre 1 et 100. Il indique la vitesse de deplacement du drone.\\
%
%\subsubsection{triange}
%\quad Syntaxe: \textbf{triange(durée: Seconde, vitesse\_deplacement: Pourcentage))}\bigbreak
%Cette commande permettra à un drone de réaliser un triange isocèle horizontale en fonction de la vitesse de deplacement et d'une durée pour le réaliser.\\
%Elle ne pourra être exécutée que si un drone a décollé et n'a pas atterri.\\
%Le paramètre \textbf{durée} donnera le temps en secondes durant lequel le drone doit effectuer son triangle.\\
%Le paramètre \textbf{vitesse\_rotation} est un entier positif compris entre 1 et 100. Il indique la vitesse de deplacement du drone.\\
%
%\subsubsection{carré ascendant}
%\quad Syntaxe: \textbf{carre\_ascendant(durée: Seconde, vitesse\_deplacement: Pourcentage))}\bigbreak
%Cette commande permettra à un drone de réaliser un carré ascendant en fonction de la vitesse de deplacement et d'une durée pour réaliser le carré ascendant. \\
%Elle ne pourra être exécutée que si un drone a décollé et n'a pas atterri.\\
%Le paramètre \textbf{durée} donnera le temps en secondes durant lequel le drone doit effectuer son carré ascendant.\\
%Le paramètre \textbf{vitesse\_rotation} est un entier positif compris entre 1 et 100. Il indique la vitesse de deplacement du drone.\\

\subsection{Fonction de composition parallèle}
Notre langage intégrera un mécanisme de composition d'exécution de commandes en parallèle. 
Il permettra par exemple de monter et d'avancer en même temps. \\Ce mécanisme sera implémenté dans notre langage par le biais du symbole '\textit{\&}'. \\
La parallélisation ne sera disponible que sur les commandes de bases. Elle n'est pas disponible pour paralléliser deux fonctions. \\
\begin{tabbing}
De plus \=on ne pourra pas composer deux commandes opposées en parallèle par exemple : \\
    \>- Monter(1,10) \& Descendre(1,10) \\
    \>- Avancer(1,10) \& Reculer(1,10) \\
    \>- Gauche(1,10) \& Droite(1,10) \\
    \>- RotationGauche(1,10) \& RotationDroite(1,10)
\end{tabbing}
\chapter{Tests de validation}
%USE CASE 1
\section{Validation tranche 1 -  (Validation de l'éditeur du langage)} 
Ci-dessous une liste de tests permettant au client de valider la recette de l'éditeur du langage.\bigbreak

\begin{tabular}{|p{0.25\linewidth} | p{0.70\linewidth}|}
\rowcolor[RGB]{200, 200, 200}Validation :& TVEDT-01\\
\hline
Contexte :& L'utilisateur a démarré son éditeur.\\
\hline
Entrée :& aucune \\
\hline
Scénario :&  \begin{minipage}[t]{0.7\textwidth}
    \vspace{1px}
    \begin{indentpar}{1cm}
    func main \{
     \begin{indentpar}{1cm}
     	prologue \{

     	\}\\
	    decoller()\\
	    monter(1.0, 20)\\
	    atterrir()
    \end{indentpar}
    \}\\
    \end{indentpar}
\end{minipage} \\
\hline
Résultat attendu:& Aucune erreur n'est détectée par l'éditeur. \\
\hline
\end{tabular}


\begin{tabular}{|p{0.25\linewidth} | p{0.70\linewidth}|}
\rowcolor[RGB]{200, 200, 200}Validation :& TVEDT-02\\
\hline
Contexte :& L'utilisateur a démarré son éditeur.\\
\hline
Entrée :& aucune \\
\hline
Scénario :&  \begin{minipage}[t]{0.7\textwidth}
    \vspace{1px}
    \begin{indentpar}{1cm}
    func main \{
     \begin{indentpar}{1cm}
     	prologue \{

     	\}\\
	    decoller()\\
		monter(1.0, 20)\\
		avancer(1.0, 20)\\
		reculer(1.0, 20)\\
		atterrir()
    \end{indentpar}
    \}\\
    \end{indentpar}
\end{minipage} \\
\hline
Résultat attendu:& Aucune erreur n'est détectée par l'éditeur. \\
\hline
\end{tabular}


\begin{tabular}{|p{0.25\linewidth} | p{0.70\linewidth}|}
\rowcolor[RGB]{200, 200, 200}Validation :& TVEDT-03\\
\hline
Contexte :& L'utilisateur a démarré son éditeur.\\
\hline
Entrée :& aucune \\
\hline
Scénario :&  \begin{minipage}[t]{0.7\textwidth}
    \vspace{1px}
    \begin{indentpar}{1cm}
    func main \{
     \begin{indentpar}{1cm}
     	prologue \{

     	\}\\
	    decoller()\\
		blabalbla()\\
		atterrir()
    \end{indentpar}
    \}\\
    \end{indentpar}
\end{minipage} \\
\hline
Résultat attendu:& Une erreur est détéctée sur la commande \textit{blabalbla}. \\
\hline
\end{tabular}

\begin{tabular}{|p{0.25\linewidth} | p{0.70\linewidth}|}
\rowcolor[RGB]{200, 200, 200}Validation :& TVEDT-04\\
\hline
Contexte :& L'utilisateur a démarré son éditeur.\\
\hline
Entrée :& aucune \\
\hline
Scénario :&  \begin{minipage}[t]{0.7\textwidth}
    \vspace{1px}
    \begin{indentpar}{1cm}
    func main \{
     \begin{indentpar}{1cm}
     	prologue \{

     	\}\\
	    decoller()\\
		monter("hello")\\
		atterrir()
    \end{indentpar}
    \}\\
    \end{indentpar}
\end{minipage} \\
\hline
Résultat attendu:& Une erreur est détéctée sur la commande \textit{monter}. \\
\hline
\end{tabular}


\begin{tabular}{|p{0.25\linewidth} | p{0.70\linewidth}|}
\rowcolor[RGB]{200, 200, 200}Validation :& TVEDT-05\\
\hline
Contexte :& L'utilisateur a démarré son éditeur.\\
\hline
Entrée :& aucune \\
\hline
Scénario :&  \begin{minipage}[t]{0.7\textwidth}
    \vspace{1px}
    \begin{indentpar}{1cm}
    func main \{
     \begin{indentpar}{1cm}
     	prologue \{

     	\}\\
	    decoller()\\
		atterrir()\\
		monter(1.0, 20)
    \end{indentpar}
    \}\\
    \end{indentpar}
\end{minipage} \\
\hline
Résultat attendu:& Une erreur est détéctée sur la commande \textit{monter}. \\
\hline
\end{tabular}


\begin{tabular}{|p{0.25\linewidth} | p{0.70\linewidth}|}
\rowcolor[RGB]{200, 200, 200}Validation :& TVEDT-06\\
\hline
Contexte :& L'utilisateur a démarré son éditeur.\\
\hline
Entrée :& aucune \\
\hline
Scénario :&  \begin{minipage}[t]{0.7\textwidth}
    \vspace{1px}
    \begin{indentpar}{1cm}
    func main \{
     \begin{indentpar}{1cm}
     	prologue \{

     	\}\\
	    monter(1.0, 20)\\
		decoller()\\
		atterrir()
    \end{indentpar}
    \}\\
    \end{indentpar}
\end{minipage} \\
\hline
Résultat attendu:& Une erreur est détéctée sur la commande \textit{monter}. \\
\hline
\end{tabular}



\begin{tabular}{|p{0.25\linewidth} | p{0.70\linewidth}|}
\rowcolor[RGB]{200, 200, 200}Validation :& TVEDT-07\\
\hline
Contexte :& L'utilisateur a démarré son éditeur.\\
\hline
Entrée :& aucune \\
\hline
Scénario :&  \begin{minipage}[t]{0.7\textwidth}
    \vspace{1px}
    \begin{indentpar}{1cm}
    func main \{
     \begin{indentpar}{1cm}
     	prologue \{

     	\}\\
	    decoller()\\
		decoller()
    \end{indentpar}
    \}\\
    \end{indentpar}
\end{minipage} \\
\hline
Résultat attendu:& Une erreur est détéctée sur la deuxième commande \textit{decoller}.\\
\hline
\end{tabular}

\begin{tabular}{|p{0.25\linewidth} | p{0.70\linewidth}|}
\rowcolor[RGB]{200, 200, 200}Validation :& TVEDT-08\\
\hline
Contexte :& L'utilisateur a démarré son éditeur.\\
\hline
Entrée :& aucune \\
\hline
Scénario :&  \begin{minipage}[t]{0.7\textwidth}
    \vspace{1px}
    \begin{indentpar}{1cm}
    func main \{
     \begin{indentpar}{1cm}
     	prologue \{

     	\}\\
	    decoller()\\
		monter(1.0, 20)\\
		atterrir()\\
		atterrir()
    \end{indentpar}
    \}\\
    \end{indentpar}
\end{minipage} \\
\hline
Résultat attendu:& Une erreur est détéctée sur la deuxième commande \textit{atterrir}.\\
\hline
\end{tabular}

\begin{tabular}{|p{0.25\linewidth} | p{0.70\linewidth}|}
\rowcolor[RGB]{200, 200, 200}Validation :& TVEDT-09\\
\hline
Contexte :& L'utilisateur a démarré son éditeur.\\
\hline
Entrée :& aucune \\
\hline
Scénario :&  \begin{minipage}[t]{0.7\textwidth}
    \vspace{1px}
    \begin{indentpar}{1cm}
    func main \{
     \begin{indentpar}{1cm}
     	prologue \{

     	\}\\
     	decoller()\\
	    aller\_retour()\\
	    atterrir()
    \end{indentpar}
    \}\\
    func aller\_retour() \{
     \begin{indentpar}{1cm}
		avancer(1.0, 20)\\
		reculer(1.0, 20)
     \end{indentpar}
    \}\\
    \end{indentpar}
\end{minipage} \\
\hline
Résultat attendu:& Aucune erreur n'est détectée par l'éditeur. \\
\hline
\end{tabular}

\begin{tabular}{|p{0.25\linewidth} | p{0.70\linewidth}|}
\rowcolor[RGB]{200, 200, 200}Validation :& TVEDT-10\\
\hline
Contexte :& L'utilisateur a démarré son éditeur.\\
\hline
Entrée :& aucune \\
\hline
Scénario :&  \begin{minipage}[t]{0.7\textwidth}
    \vspace{1px}
    \begin{indentpar}{1cm}
    func main \{
     \begin{indentpar}{1cm}
     	prologue \{

     	\}\\
     	decoller()\\
	    foo()\\
	    atterrir()
    \end{indentpar}
    \}\\
    func bar() \{
     \begin{indentpar}{1cm}
		avancer(1.0, 20)
     \end{indentpar}
    \}\\
    \end{indentpar}
\end{minipage} \\
\hline
Résultat attendu:& Une erreur est détéctée sur l'appel à la fonction \textit{foo}.\\
\hline
\end{tabular}

\begin{tabular}{|p{0.25\linewidth} | p{0.70\linewidth}|}
\rowcolor[RGB]{200, 200, 200}Validation :& TVEDT-11\\
\hline
Contexte :& L'utilisateur a démarré son éditeur.\\
\hline
Entrée :& aucune \\
\hline
Scénario :&  \begin{minipage}[t]{0.7\textwidth}
    \vspace{1px}
    \begin{indentpar}{1cm}
    func main \{
     \begin{indentpar}{1cm}
     	prologue \{

     	\}\\
     	decoller()\\
	    monter(1.0, 20) \& avancer(1.0, 20)\\
	    atterrir()
     \end{indentpar}
    \}\\
    \end{indentpar}
\end{minipage} \\
\hline
Résultat attendu:& Aucune erreur n'est détectée par l'éditeur. \\
\hline
\end{tabular}

\begin{tabular}{|p{0.25\linewidth} | p{0.70\linewidth}|}
\rowcolor[RGB]{200, 200, 200}Validation :& TVEDT-12\\
\hline
Contexte :& L'utilisateur a démarré son éditeur.\\
\hline
Entrée :& aucune \\
\hline
Scénario :&  \begin{minipage}[t]{0.7\textwidth}
    \vspace{1px}
    \begin{indentpar}{1cm}
    func main \{
     \begin{indentpar}{1cm}
     	prologue \{

     	\}\\
     	decoller()\\
	    monter(1.0, 20) \& descendre(1.0, 20)\\
	    atterrir()
     \end{indentpar}
    \}\\
    \end{indentpar}
\end{minipage} \\
\hline
Résultat attendu:& Une erreur est détéctée sur l'appel de la composition parallèle des fonctions \textit{monter} et \textit{descendre}.\\
\hline
\end{tabular}



TODO - Faire des tests plus méchants (fct composition séquence, etc)

\section{Validation tranche 3 -  (Contrôler drone depuis l'ordinateur via le programme utilisateur)} 

\subsection*{Décollage}
% Décollage
\begin{tabular}{|p{0.25\linewidth} | p{0.21\linewidth} | p{0.21\linewidth} | p{0.21\linewidth} |} 
\hline
\rowcolor[RGB]{200, 200, 200}Titre :& \multicolumn{3}{p{0.70\linewidth}|}{Décollage du drone } \\
\hline
Tranche :& \multicolumn{3}{p{0.70\linewidth}|}{2} \\
\hline
\hline
Date :& \multicolumn{3}{p{0.70\linewidth}|}{\today }\\
\hline
Description :& \multicolumn{3}{p{0.70\linewidth}|}{Le drone est au sol, prêt à décoller} \\
\hline
Précondition :& \multicolumn{3}{p{0.70\linewidth}|}{L'ordinateur est connecté au drone. L'utilisateur à déjà réalisé son application ne contenant que l'instruction de décollage.} \\
\hline
Scénario & {
	\begin{minipage}[t]{\linewidth}
	Utilisateur : \\
	1. Le testeur lance l'application compilée par l'environnement de développement fourni. Elle ne contient que l'instruction de décollage.
	 \end{minipage}
	} & {
	\begin{minipage}[t]{\linewidth}
	Application :\\
	2. Le système fait décoller le drone. \\
	4. Le système le place à une hauteur minimale de fonctionnement. \\
	6. Le système enclenche le mode de vol stationnaire\\
	 \end{minipage}
	} & {
	\begin{minipage}[t]{\linewidth}
	Drone :\\
	3. Le drone décolle.\\
	5. Le drone se place à la hauteur minimale de fonctionnement.
	 \end{minipage}
	} \\

\hline
Postcondition : & \multicolumn{3}{p{0.70\linewidth}|}{Le drone n'est plus au sol et est maintenant dans le mode de vol "Stationnaire"}\\
\hline
\end{tabular}

%Validation décollage
\begin{tabular}{|p{0.25\linewidth} | p{0.70\linewidth}|}
\rowcolor[RGB]{200, 200, 200}Validation :& TV01 Décollage\\
\hline
Contexte :& L'ordinateur est connecté au drone et l'utilisateur à compiler son application ne contenant que l'instruction de décollage.\\
\hline
Entrée :& Aucune. \\
\hline
Scénario :&  \begin{minipage}[t]{0.7\textwidth}
    \begin{enumerate}
    \item L'utilisateur lance son application.\\
    \end{enumerate}
\end{minipage} \\
\hline
Moyen de vérification :& Visuel, le drone est à sa hauteur minimale de fonctionnement. \\
\hline
\end{tabular}

\subsection*{Atterrissage}
% Atterrissage
\begin{tabular}{|p{0.25\linewidth} | p{0.21\linewidth} | p{0.21\linewidth} | p{0.21\linewidth} |} 
\hline
\rowcolor[RGB]{200, 200, 200}Titre :& \multicolumn{3}{p{0.70\linewidth}|}{Atterrissage du drone} \\
\hline
Tranche :& \multicolumn{3}{p{0.70\linewidth}|}{2} \\
\hline
Date :& \multicolumn{3}{p{0.70\linewidth}|}{\today }\\
\hline
Description :& \multicolumn{3}{p{0.70\linewidth}|}{Le drone est en mode stationnaire, prêt à atterrir.} \\
\hline
Précondition :& \multicolumn{3}{p{0.70\linewidth}|}{L'ordinateur est connecté au drone. Le drone a décollé (et est en mode stationnaire).L'utilisateur à déjà réalisé son application ne contenant que l'instruction de d'Atterrisage.} \\
\hline
Scénario & {
	\begin{minipage}[t]{\linewidth}
	Utilisateur : \\
	1. Le testeur lance l'application compilée par l'environnement de développement fourni. Elle ne contient que l'instruction de d'atterrissage.
	 \end{minipage}
	} & {
	\begin{minipage}[t]{\linewidth}
	Application :\\
	2. Le système entre en phase d'atterrissage.\\
	3. Le système descend lentement le drone vers le sol.\\
	5. Au sol, le système coupe le fonctionnement des hélices. \\
	 \end{minipage}
	} & {
	\begin{minipage}[t]{\linewidth}
	Drone :\\
	4. Le drone descend vers le sol.\\
	6. Le drone est au sol, les hélices ne bougent plus.\\
	 \end{minipage}
	} \\

\hline
Postcondition : & \multicolumn{3}{p{0.70\linewidth}|}{Le drone est au sol.}\\
\hline
\end{tabular}

%Validation Atterrissage
\begin{tabular}{|p{0.25\linewidth} | p{0.70\linewidth}|}
\rowcolor[RGB]{200, 200, 200}Validation :& TV02 Atterrisage\\
\hline
Contexte :& L'ordinateur est connecté au drone et l'utilisateur à compiler son application ne contenant que l'instruction de d'atterrissage.\\
\hline
Entrée :& Aucune. \\
\hline
Scénario :&  \begin{minipage}[t]{0.7\textwidth}
    \begin{enumerate}
     \item L'utilisateur lance son application.\\
    \end{enumerate}
\end{minipage} \\
\hline
Moyen de vérification :& Visuel, le drone est au sol, les hélices sont en arrêt de fonctionnement. \\
\hline
\end{tabular}


\vspace*{10px}

\subsection*{Mouvements sur le plan horizontal}
%Mouvement sur le plan horizontal
\begin{tabular}{|p{0.25\linewidth} | p{0.21\linewidth} | p{0.21\linewidth} | p{0.21\linewidth} |} 
\hline
\rowcolor[RGB]{200, 200, 200}Titre :& \multicolumn{3}{p{0.70\linewidth}|}{Mouvement sur le plan horizontal (axe X ou Y)} \\
\hline
Tranche :& \multicolumn{3}{p{0.70\linewidth}|}{2} \\
\hline
Date :& \multicolumn{3}{p{0.70\linewidth}|}{\today }\\
\hline
Description :& \multicolumn{3}{p{0.70\linewidth}|}{Le drone réagit aux commandes définies par l'utilisateur dans son application.} \\
\hline
Précondition :& \multicolumn{3}{p{0.70\linewidth}|}{L'ordinateur est connecté au drone. Le drone a décollé. L'utilisateur à déjà réalisé son application ne contenant que des instructions de mouvements sur le plan horizontal} \\
\hline
Scénario & {
	\begin{minipage}[t]{\linewidth}
	Utilisateur : \\
	1. Le testeur lance l'application compilée par l'environnement de développement fourni. Elle ne contient que des instructions de déplacement sur les axes X et Y.
	 \end{minipage}
	} & {
	\begin{minipage}[t]{\linewidth}
	Application :\\
	2. Le système donne des ordres au drone pour le déplacement.
	 \end{minipage}
	} & {
	\begin{minipage}[t]{\linewidth}
	Drone :\\
	3. Le drone se déplace de gauche à droite sur l'axe X (ou Y).
	 \end{minipage}
	} \\

\hline
Postcondition : & \multicolumn{3}{p{0.70\linewidth}|}{Le drone a changé de position.}\\
\hline
\end{tabular}

%Validation mouvement horizontal
\begin{tabular}{|p{0.25\linewidth} | p{0.70\linewidth}|}
\rowcolor[RGB]{200, 200, 200}Validation :& TV03 Mouvement horizontal (axe X ou Y)\\
\hline
Contexte :& L'ordinateur est connecté au drone. Le drone a décollé et est en mode stationnaire. L'utilisateur à compiler son application ne contenant que des instructions de déplacement sur les axes X et/ou Y. \\
\hline
Entrée :& aucune \\
\hline
Scénario :&  \begin{minipage}[t]{0.7\textwidth}
    \begin{enumerate}
 \item L'utilisateur lance son application.\\
    \end{enumerate}
\end{minipage} \\
\hline
Moyen de vérification :& Visuel, le drone a changé de position. \\
\hline
\end{tabular}
\vspace*{10px}

\subsection*{Mouvement sur le plan vertical}
%Mouvement sur le plan vertical
\begin{tabular}{|p{0.25\linewidth} | p{0.21\linewidth} | p{0.21\linewidth} | p{0.21\linewidth} |} 
\hline
\rowcolor[RGB]{200, 200, 200}Titre :& \multicolumn{3}{p{0.70\linewidth}|}{Mouvement sur le plan vertical (axe Z)} \\
\hline
Tranche :& \multicolumn{3}{p{0.70\linewidth}|}{2} \\
\hline
Date :& \multicolumn{3}{p{0.70\linewidth}|}{\today }\\
\hline
Description :& \multicolumn{3}{p{0.70\linewidth}|}{Le drone réagit aux actions de l'utilisateur sur le plan vertical} \\
\hline
Précondition :& \multicolumn{3}{p{0.70\linewidth}|}{L'ordinateur est connecté au drone. Le drone a décollé. L'utilisateur à compiler son application ne contenant que des instructions de déplacement sur l'axe Z} \\
\hline
Scénario & {
	\begin{minipage}[t]{\linewidth}
	Utilisateur : \\
	1. Le testeur lance l'application compilée par l'environnement de développement fourni. Elle ne contient que des instructions de déplacement sur l'axe Z.
	 \end{minipage}
	} & {
	\begin{minipage}[t]{\linewidth}
	Application :\\
	2. Le système donne des ordres au drone pour le déplacement.
	 \end{minipage}
	} & {
	\begin{minipage}[t]{\linewidth}
	Drone :\\
	3. Le drone se déplace de gauche à droite sur l'axe Z.
	 \end{minipage}
	} \\

\hline
Postcondition : & \multicolumn{3}{p{0.70\linewidth}|}{Le drone a changé de position.}\\
\hline
\end{tabular}

%Validation mouvement Vertical
\begin{tabular}{|p{0.25\linewidth} | p{0.70\linewidth}|}
\rowcolor[RGB]{200, 200, 200}Validation :& TV04 Mouvement vertical\\
\hline
Contexte :& L'ordinateur est connecté au drone. Le drone a décollé et est en mode stationnaire. L'utilisateur à compiler son application ne contenant que des instructions de déplacement sur l'axe Z. \\
\hline
Entrée :& aucune \\
\hline
Scénario :&  \begin{minipage}[t]{0.7\textwidth}
    \begin{enumerate}
    \item L'utilisateur lance son application.\\
    \end{enumerate}
\end{minipage} \\
\hline
Moyen de vérification :& Visuel, le drone a changé de position. \\
\hline
\end{tabular}



\chapter{Étapes du projet}

\normalsize

À propos des délais de livraison, nous avons opté pour une livraison en tranches à intervalles réguliers. Le client aura donc un état d'avancement continu du projet. Ainsi, avec son accord, nous livrerons dans un délai maximum les tranches suivantes :


\section{Tranche 0 : 28 novembre 2017}
\vspace{1px}
Tout d'abord, nous livrerons un cahier des charges au client pour formaliser notre compr\'ehension du projet et de ses modalit\'es. Nous exposerons l'analyse des besoins, les r\'eponses apport\'ees, les tests que pourra effectuer le client afin de tester le fonctionnement du programme et nous d\'ecrirons les modalit\'es finales du projet.

\section{Tranche 1 : 14 d\'ecembre 2017}
\vspace{1px}

Nous sp\'ecifirons un m\'etamod\`ele pour d\'evelopper un langage compr\'ehensible pour l'utilisateur afin qu'il puisse envoyer des commandes au drone. Ce dernier pourra ex\'ecuter les mouvements gr\^ace \`a des appels de fonction du type (D\'ecoller, Atterrir, Avancer, Monter...) sp\'ecifi\'es dans la partie Commandes.\\
Nous livrerons un \'éditeur textuel bas\'e sur XText  sp\'ecifique au langage afin de pouvoir d\'eterminer un enchainement de mouvements qui d\'efinira une chor\'egraphie. L'utilisateur pourra gr\^ace \`a cet \'éditeur appel\'e les instructions qui sont reconnues par l'\'éditeur. Enfin la validation de cette tranche se fera avec les tests de validation TVEDT-01 à TVEDT-08

\section{Tranche 2  : 12 janvier 2018}
\vspace{1px}

La tranche 2 consistera \`a produire un programme pour que le drone puisse \'executer un sc\'enario.\\
Le langage cible JAVA du programme sera g\'en\'er\'e \`a partir du DSL sp\'ecifi\'e pour le sc\'enario.\\
L'ensemble des instructions sera li\'e avec des appels de fonctions de l'API du drone Parrot. Le code ainsi g\'en\'er\'e sera ensuite compil\'e afin de produire un programme ex\'ecutable par le drone. Enfin la validation de cette tranche se fera avec les tests de validation TV-01 à TV-04

\section{Tranche 3 : 25 janvier 2018}
\vspace{1px}

Cette derni\`ere \'etape consistera \`a une livraison de la distribution permettant d'ex\'ecuter une chor\'egraphie par l'utilisateur et sa mise en place sur un syst\`eme de d\'eploiement avec l'installation des plugins pour le DSL.
Le serveur sera li\'e au drone qui ex\'ecutera le sc\'enario. \\
Enfin une d\'emonstration avec le drone illustrera le fonctionnement de la distribution.



\chapter{Glossaire}
\paragraph{méta-modèle} TODO
\end{document}


